{
    "start_screen_id": "welcome_account_opening",
    "screens": {
        "welcome_account_opening": {
            "screen_id": "welcome_account_opening",
            "type": "MESSAGE",
            "message_text": "ğŸ¦ Open a New Account\n\nOpen a Citi checking or savings account in minutes!\n\nâœ… No monthly fees with qualifying activities\nâœ… FDIC insured up to $250,000\nâœ… Access to 60,000+ fee-free ATMs",
            "buttons": [
                { "label": "â–¶ï¸ Get Started", "go_to_screen_id": "select_account_type" },
                { "label": "âŒ Cancel", "go_to_screen_id": "end_flow" }
            ]
        },
        "select_account_type": {
            "screen_id": "select_account_type",
            "type": "MENU",
            "message_text": "What type of account would you like to open?",
            "buttons": [
                { "label": "ğŸ’³ Checking Account", "go_to_screen_id": "show_checking_details", "set_variable": "account_type", "set_value": "checking" },
                { "label": "ğŸ’° Savings Account", "go_to_screen_id": "show_savings_details", "set_variable": "account_type", "set_value": "savings" },
                { "label": "ğŸ“Š Both Checking & Savings", "go_to_screen_id": "show_combo_details", "set_variable": "account_type", "set_value": "combo" }
            ]
        },
        "show_checking_details": {
            "screen_id": "show_checking_details",
            "type": "MENU",
            "message_text": "ğŸ’³ Citibank Checking Account\n\nâœ¨ Benefits:\nâ€¢ $0 monthly fee with $500 balance\nâ€¢ Free debit card\nâ€¢ Mobile check deposit\nâ€¢ Bill pay\nâ€¢ Overdraft protection\n\nMinimum opening deposit: $100",
            "buttons": [
                { "label": "âœ… Choose This Account", "go_to_screen_id": "enter_personal_info" },
                { "label": "â¬…ï¸ Back", "go_to_screen_id": "select_account_type" }
            ]
        },
        "show_savings_details": {
            "screen_id": "show_savings_details",
            "type": "MENU",
            "message_text": "ğŸ’° Citibank Savings Plus\n\nâœ¨ Benefits:\nâ€¢ 2.50% APY on all balances\nâ€¢ $0 monthly fee with $500 balance\nâ€¢ Automatic savings tools\nâ€¢ 6 free withdrawals per month\n\nMinimum opening deposit: $100",
            "buttons": [
                { "label": "âœ… Choose This Account", "go_to_screen_id": "enter_personal_info" },
                { "label": "â¬…ï¸ Back", "go_to_screen_id": "select_account_type" }
            ]
        },
        "show_combo_details": {
            "screen_id": "show_combo_details",
            "type": "MENU",
            "message_text": "ğŸ“Š Checking + Savings Combo\n\nâœ¨ Benefits:\nâ€¢ All checking account features\nâ€¢ All savings account features\nâ€¢ Free transfers between accounts\nâ€¢ Linked overdraft protection\nâ€¢ $200 welcome bonus\n\nMinimum opening deposit: $200 total",
            "buttons": [
                { "label": "âœ… Choose This Package", "go_to_screen_id": "enter_personal_info" },
                { "label": "â¬…ï¸ Back", "go_to_screen_id": "select_account_type" }
            ]
        },
        "enter_personal_info": {
            "screen_id": "enter_personal_info",
            "type": "MESSAGE",
            "message_text": "ğŸ“ Personal Information\n\nPlease provide your full legal name:\n\n(First name, Middle initial, Last name)",
            "input": {
                "type": "text",
                "variable": "full_name"
            },
            "go_to_screen_id": "enter_dob"
        },
        "enter_dob": {
            "screen_id": "enter_dob",
            "type": "MESSAGE",
            "message_text": "ğŸ“… Date of Birth\n\n(MM/DD/YYYY format)\n\nâš ï¸ You must be 18 or older to open an account.",
            "input": {
                "type": "text",
                "variable": "date_of_birth"
            },
            "go_to_screen_id": "enter_ssn"
        },
        "enter_ssn": {
            "screen_id": "enter_ssn",
            "type": "MESSAGE",
            "message_text": "ğŸ” Social Security Number\n\nRequired for identity verification and tax reporting.\n\n(XXX-XX-XXXX format)",
            "input": {
                "type": "password",
                "variable": "ssn"
            },
            "go_to_screen_id": "enter_address"
        },
        "enter_address": {
            "screen_id": "enter_address",
            "type": "MESSAGE",
            "message_text": "ğŸ  Residential Address\n\nEnter your current street address:\n\n(Street, City, State, ZIP)",
            "input": {
                "type": "text",
                "variable": "address"
            },
            "go_to_screen_id": "enter_contact"
        },
        "enter_contact": {
            "screen_id": "enter_contact",
            "type": "MESSAGE",
            "message_text": "ğŸ“± Contact Information\n\nEmail address:",
            "input": {
                "type": "text",
                "variable": "email"
            },
            "go_to_screen_id": "enter_phone"
        },
        "enter_phone": {
            "screen_id": "enter_phone",
            "type": "MESSAGE",
            "message_text": "ğŸ“ Mobile Phone Number:\n\n(Used for account alerts and verification)",
            "input": {
                "type": "text",
                "variable": "phone"
            },
            "go_to_screen_id": "enter_employment"
        },
        "enter_employment": {
            "screen_id": "enter_employment",
            "type": "MENU",
            "message_text": "ğŸ’¼ Employment Status:",
            "buttons": [
                { "label": "ğŸ’¼ Employed", "go_to_screen_id": "enter_initial_deposit", "set_variable": "employment", "set_value": "employed" },
                { "label": "ğŸ‘” Self-Employed", "go_to_screen_id": "enter_initial_deposit", "set_variable": "employment", "set_value": "self_employed" },
                { "label": "ğŸ“ Student", "go_to_screen_id": "enter_initial_deposit", "set_variable": "employment", "set_value": "student" },
                { "label": "ğŸ–ï¸ Retired", "go_to_screen_id": "enter_initial_deposit", "set_variable": "employment", "set_value": "retired" },
                { "label": "ğŸ” Unemployed", "go_to_screen_id": "enter_initial_deposit", "set_variable": "employment", "set_value": "unemployed" }
            ]
        },
        "enter_initial_deposit": {
            "screen_id": "enter_initial_deposit",
            "type": "MESSAGE",
            "message_text": "ğŸ’µ Initial Deposit\n\nMinimum: $100\n\nHow much would you like to deposit to open your account?\n\n(You can fund via transfer from another bank or debit card)",
            "input": {
                "type": "text",
                "variable": "initial_deposit"
            },
            "go_to_screen_id": "review_application"
        },
        "review_application": {
            "screen_id": "review_application",
            "type": "MENU",
            "message_text": "ğŸ“‹ Review Your Application:\n\nAccount Type: {{account_type}}\nName: {{full_name}}\nInitial Deposit: ${{initial_deposit}}\n\nâœ… By submitting, you agree to:\nâ€¢ Account terms and conditions\nâ€¢ Electronic communications\nâ€¢ Privacy policy",
            "buttons": [
                { "label": "âœ… Submit Application", "go_to_screen_id": "process_application" },
                { "label": "ğŸ“ Edit Information", "go_to_screen_id": "enter_personal_info" },
                { "label": "âŒ Cancel", "go_to_screen_id": "end_flow" }
            ]
        },
        "process_application": {
            "screen_id": "process_application",
            "type": "API_CALL",
            "api_call": {
                "url": "https://api.citi.com/v1/accounts/open",
                "method": "POST",
                "mock_response": {
                    "status": "approved",
                    "account_id": "acc_8473920156",
                    "account_number": "****8834",
                    "routing_number": "021000089"
                }
            },
            "on_success": "application_approved",
            "on_error": "application_error"
        },
        "application_approved": {
            "screen_id": "application_approved",
            "type": "MESSAGE",
            "message_text": "ğŸ‰ Congratulations! Your Account is Open!\n\nAccount Number: ****8834\nRouting Number: 021000089\n\nâœ… Next Steps:\nâ€¢ Debit card arriving in 7-10 days\nâ€¢ Set up online banking credentials\nâ€¢ Download mobile app\nâ€¢ Activate debit card when received\n\nğŸ’³ You can start using your account immediately for transfers and bill pay!",
            "buttons": [
                { "label": "ğŸ“± Set Up Mobile Banking", "go_to_screen_id": "end_flow" },
                { "label": "ğŸ“§ Email Account Details", "go_to_screen_id": "end_flow" },
                { "label": "ğŸ  Done", "go_to_screen_id": "end_flow" }
            ]
        },
        "application_error": {
            "screen_id": "application_error",
            "type": "MENU",
            "message_text": "âŒ Application Could Not Be Processed\n\nWe're unable to approve your application at this time. This may be due to:\n\nâ€¢ Identity verification issues\nâ€¢ Incomplete information\nâ€¢ ChexSystems review needed\n\nA specialist will contact you within 2 business days.",
            "buttons": [
                { "label": "ğŸ“ Call Now", "go_to_screen_id": "end_flow" },
                { "label": "ğŸ“§ Email Support", "go_to_screen_id": "end_flow" },
                { "label": "ğŸ  Done", "go_to_screen_id": "end_flow" }
            ]
        },
        "end_flow": {
            "screen_id": "end_flow",
            "type": "MESSAGE",
            "message_text": "Thank you for choosing Citi!",
            "go_to_screen_id": null
        }
    }
}

